# Delivery层

Delivery是POS共识的验证者层，负责将 Bttc 层块的检查点提交到 TRON/BSC/Ethereum主网, Delivery基于[Tendermint](https://tendermint.com/)实现。

TRON主网上的质押合约与Delivery节点协同工作，为BTTC的PoS 共识提供了去信任化的质押管理机制。由于质押是在TRON主网上的合约中完成的， BTTC 不仅仅依赖验证者的诚实，还继承了 TRON 主网的安全性。

Delivery层将 Bttc 层生产的区块聚合到 Merkle 树中，并定期将 Merkle 根发布到 TRON/BSC/Ethereum主网，这种定期发布也称为检查点。

对于Bttc层上的每隔一定数量的区块，验证者将有如下操作：
* 验证自上次检查点以来的所有区块。
* 根据区块hash值计算出Merkle树。
* 将Merkle根提交到TRON/BSC/Ethereum网络。

检查点的重要性有如下两个原因：
* 提供根链上的最终结果。
* 提供提取资产时的燃烧证明。

流程如下：
- 从池子里选出一个活跃的验证者集合，作为Bttc层一个跨度的区块生产者，区块生产者的选择也将由至少2/3的人同意。这些区块生产者负责创建区块并将其广播到网络。
- 一个检查点包括在任何给定间隔内创建的所有块的根。所有验证着节点都会对其进行验证，并将其签名附在上面。
- 一个从验证者集合中选出的提议者负责创建检查点并收集检查点的所有签名，然后将其提交给主链。
- 被选为区块生产者和检查点提议人的概率取决于验证者在整个池中的股权比例。
