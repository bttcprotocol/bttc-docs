# Delivery層

Delivery是POS共識的驗證者層，負責將 Bttc 層塊的檢查點提交到 TRON/BSC/Ethereum主網, Delivery基於[Tendermint](https://tendermint.com/)實現。

TRON主網上的質押合約與Delivery節點協同工作，為BTTC的PoS 共識提供了去信任化的質押管理機制。由於質押是在TRON主網上的合約中完成的， BTTC 不僅僅依賴驗證者的誠實，還繼承了 TRON 主網的安全性。

Delivery層將 Bttc 層生產的區塊聚合到 Merkle 樹中，並定期將 Merkle 根發布到 TRON/BSC/Ethereum主網，這種定期發布也稱為檢查點。

對於Bttc層上的每隔一定數量的區塊，驗證者將有如下操作：
* 驗證自上次檢查點以來的所有區塊。
* 根據區塊hash值計算出Merkle樹。
* 將Merkle根提交到TRON/BSC/Ethereum網絡。

檢查點的重要性有如下兩個原因：
* 提供根鏈上的最終結果。
* 提供提取資產時的燃燒證明。

流程如下：
- 從池子里選出一個活躍的驗證者集合，作為Bttc層一個跨度的區塊生產者，區塊生產者的選擇也將由至少2/3的人同意。這些區塊生產者負責創建區塊並將其廣播到網絡。
- 一個檢查點包括在任何給定間隔內創建的所有塊的根。所有的節點都會對其進行驗證，並將其簽名附在上面。
- 一個從驗證者集合中選出的提議者負責收集特定檢查點的所有簽名，並將其提交給主鏈。
- 創建區塊和提出檢查點的責任取決於驗證者在整個池中的股權比例。
